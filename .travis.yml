language: go
go_import_path: github.com/whiteblock/genesis
sudo: false
env:
   - GOPATH=/home/travis/gopath
#  - GO111MODULE=on

os: linux
dist: xenial
sudo: required
go: 1.12.x

before_install:
  - make install-mock
  - make mocks

jobs:
  include:
    - stage: Lint
      script: make lint
    - stage: Vet
      script: make vet
    - stage: Test
      script: make test
    - stage: Coverage
      script: make coverage
      after_success: bash <(curl -s https://codecov.io/bash)
